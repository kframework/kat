#!/usr/bin/env bash

exit_status='0'

runtest() {
    ./kat test "$@" || exit_status="$?"
}

runtest tests/fun/ackermann.fun                   orig 103a032a87e4855ba91fe5b5c9b52a7b exec b63045261cd1eab797e2efc2d09804c2
runtest tests/fun/collatz-all-upto.fun            orig 1505d6f98afd8039a446b6db4fc03d15 exec 1405772010e8559afc1e7a790785c320
runtest tests/fun/constructor-bst-sorting.fun     orig 5cf50a61d7a350beb9b4a1c99f20e2ab exec 2e9aa3cb0dcbd492c2af11088502caeb
runtest tests/fun/constructor-tree-mirror.fun     orig 5d5282b1a5eb1e1cc831889fe5d64a56 exec 767c35265175b1d82bb312e6d7fd87c7
runtest tests/fun/empty-argument.fun              orig 8c375a6f1820372c6cc32b84e2740ccd exec e1d24c4c1a8155730194e5b3e3835e2b compile cb7bac3fab68bed51682e0ad7a2af73b
runtest tests/fun/exceptions-branch.fun           orig 062736d4f769b6778384db923a26b75c exec 0029b082f4957ac57af4dd68deceb43d compile 4ad2abf1b2a44e4836deaf250f3e9fcd
runtest tests/fun/exceptions-branch-shadowing.fun orig bf0999071053e8106d89e049df42c545 exec d98371e066f2de30604a809e882a6e4b compile dcd92e86dd00913f3c54c9c0b926d348
runtest tests/fun/exceptions.fun                  orig 10931e126aa8637b065c958b85ccb6e5 exec 0b5ad6b94b271f7c3f04ece92bde0d40 compile 8359d8cfe6b131ae10ae2596b66527ea
runtest tests/fun/exceptions-simple.fun           orig ecd3ab88dd726d28ef8a2a53e686eb6b exec 2ae4d15c4a7cf2d71a0022c06ba5c942 compile 8ef6681304faf1563bd6b9a7ea4cdee1
runtest tests/fun/factorial-and-list-max.fun      orig fb5f3ffe3c0109d330feb4418746e5b2 exec ddd215aa59ec281c9bda1d28b40833f0
runtest tests/fun/fold.fun                        orig 1316d3231846a76625b4bc560f3ac758 exec 30cac5be882df221bf1d571f075eb935
runtest tests/fun/fold-sum.fun                    orig ea64bc2af98d82589b9db650b2a152d1 exec bb8b9be131f3edabf21053afef559c4c
runtest tests/fun/fold-tree.fun                   orig 107ca787401bcadbfb24c00c8268d0a9 exec b25872e6c1e243bc16a359d57249a1fb
runtest tests/fun/list-1.fun                      orig 3ef41d1fa0266af816cd5dbb1507760d exec 52fa09d4b6091af19f9670e7feda09f1
runtest tests/fun/list-2.fun                      orig b406b72ccca0b381ce5bc86333a63249 exec 2ddba4cc1b7844ccf3345685389e3955 compile b1e7840eb7bee1838bd586af9006607e
runtest tests/fun/list-match.fun                  orig 38be5f602078ff8ea7da583fb2711b4a exec 198d959c01fb4544353b933d3f85321e compile c16ecb59ff4421f0a90ba67035b578e1
runtest tests/fun/list-max.fun                    orig 086f61a3292db6b68d973e3df4aaaf5b exec 2450449439463f5008fe99d821bd7304
runtest tests/fun/long-loop.fun                   orig 6e2cb3e9cbf9b8460ccaa7c5ae7d8188 exec 31f7f7378b69a1f11b71383d85abc751
runtest tests/fun/map.fun                         orig 35f2c2feaf21c2c6318079dc991badcd exec 1598924ad7a2dd2a1b353bbd1dbf5374
runtest tests/fun/non-linear-pattern.fun          orig 0c3192aac4e49aed27747a1841abd3f0 exec eb8d471b3a9b14d6d778027395d35d95 compile 1aab78a96722682cd8ff3fdb8f46f911
runtest tests/fun/nth.fun                         orig f80031255e5d68b545ac4e0d6a101286 exec ff005ba889f96c91d473f2eb1c543f13
runtest tests/fun/partial-application.fun         orig c585e314c5830ac3ef8da011a5701dec exec 5d657c7b27b3beef1660b410a40542be compile 62f7fa0f9f6b7fa07040aafd4942c4b1
runtest tests/fun/pattern-failure.fun             orig d94d7cd6375326340309c673fe4c0cb1 exec 57aa0ef276df3818c671b337bddb6920 compile b2ed15f069ecf6d0b123631b250a31b4
runtest tests/fun/pattern.fun                     orig 0bde5e8afc94f1a16f623d46dc239c1d exec 479ecb7fa9023e8a71de093cca4f8485
runtest tests/fun/pattern-simple.fun              orig 3b58b41549dedb7070f3f31e115b04a9 exec 141de01cd5bf3901624eb871b3bfd1be
runtest tests/fun/polymorphism-1.fun              orig 7f1a30162d10027c5dc96867c50735cb exec 7fa2d1d5339ccfba5a53046f7aaae953 compile 7dfe72a2ce2208b872a87496dba64e3d
runtest tests/fun/polymorphism-2.fun              orig d89a2c547d87a9b3f7ccdfad34c324cb exec bc22029d6dc95843cf6ee4eae6a16cdb compile 74039696b3c6f4cd49da615d22670f8e
runtest tests/fun/polymorphism-3.fun              orig b5a729c9b23883a5eaf46c8d0f91fffb exec 1b1c08d1cde79417f62b89616fc5241c compile xxx
runtest tests/fun/prelude.fun                     orig a8cab1aa7432c7f710a7dee46282d786 exec 46417781f019b888076bb69ba9b01d9c compile fad229ebcb0a206a3541abfc9afab336
runtest tests/fun/references-1.fun                orig 6533d8b5921c87787933085e13f6339d exec bd42ea3d9be0fa54e5800dc63dfed065
runtest tests/fun/references-2.fun                orig 7e087b171a69092e3fc630afeaece4a0 exec fb114b06bdd4f8a8460d8ee5dbdaf16c compile 50e803f6c2919dfe5b4cb13182dd148a
runtest tests/fun/references-3.fun                orig e4055be648a775a273b48297c543882f exec 9bae11b8c891c0035b4edf9337d2ad43 compile f874ad2245a63eafd042b0627bc07a87
runtest tests/fun/references-4.fun                orig a769758a875288268478418d913c4c05 exec 89b2b945f6cb65e6a0a6d7b0506b7466 compile 119093eeedded3bed059836f6c49d046
runtest tests/fun/references-5.fun                orig 7253969e7627926c1e92cccc4572a208 exec a682c212737d60e374ad1a17ac08d7ef compile fe8123a0dd179ad0c271361c433f9782
runtest tests/fun/simple-application.fun          orig e0ec3580a4d5bf4e6cec120ce09c73fb exec 7609c1bb3f891f19b99ce10da428ae19 compile 3c3a4202c90491c43c50b767ca92f6d6
runtest tests/fun/simple-case.fun                 orig 7587f7dd9bf78bb90aaba90113ffaaf7 exec d3311cc771b34bdbf13caf26706e9ecd compile 65b1b48419d67554c1363e2bfc88984b
runtest tests/fun/simple-case-letrec.fun          orig 40f8dc34adfbb9ebfa36f8eb8b6b5c42 exec 81ffe7ad3fe27254c9127d78824d852b
runtest tests/fun/simple-list.fun                 orig b8884415b7ff0f40d2288ad5379cca73 exec 189c1c27d04591e9935a44c3302ef058 compile 2db336e101fbf6252208315da2e2d8ab
runtest tests/fun/sum.fun                         orig 462f9bc25a799532d44dd93dd10c44bb exec 975def2beaac13930c18a5cad8792a52
runtest tests/fun/sum-tail-recursive.fun          orig 81ed5d115b043ae2b448476b8732aab6 exec 25ef32677bc05a09be4a2529cc8b9d90
runtest tests/fun/tail-recursion.fun              orig 0dfb92d3b508f3998c5351926857fccd exec 676a0570446f5dd84240cfcadb00d6ea
runtest tests/fun/tuple-1.fun                     orig db4c0e2f2c6209d2cea8f9fafa243305 exec 720f0ade0e6940a9ee89e61b59bc3cbe compile bf511e6ab49b3eb28de2c8bab0e70c30
runtest tests/fun/tuple-2.fun                     orig 5bed64a6d2c42dac3d71676a63f7130d exec 6a5e9ff0b0cbbad9133c1cc75c593199 compile 685165c25155b08012ea19621ceb5013
runtest tests/fun/tuple-3.fun                     orig 6c0d791c73660d0e37b509ef65f491f0 exec 5763a568d528a6bd0cd67fa772c1423e compile 54a7da069a1850b6ecde20dd4da652a3

exit "$exit_status"
