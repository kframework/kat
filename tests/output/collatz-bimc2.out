// Running KAT
// ===========

// We'll use a simple testing harness in `bash` which just checks the output of
// `krun --search` against a supplied file. Run this with `bash runtests.sh`.

// BIMC
// ----

// Here, we allow each program to initialize (get through variable declarations) by
// running `step-with skip`. Then we issue some `bimc` query to check if the
// program obeys the given invariant up to the depth-bound.

// ### Collatz

// Here we'll check the runtime of each test as well. We'll find the highest number
// that is reached on Collatz of 782 by incrementally increasing the maximum bound
// we check for as an invariant. This is mostly for benchmarking purposes.

// The first number is the `bound` on how high we'll let Collatz go. The second
// number is the number of steps it took to get there. The third number is how long
// it took to run on my laptop on a Sunday.

// 1.  1000 at 20 steps in 18s
// 2.  1174 at 40 steps in 22s
// 3.  2644 at 60 steps in \#\#TIME\#\#
// 4.  3238 at 730 steps in \#\#TIME\#\#
// 5.  4858 at 750 steps in \#\#TIME\#\#
// 6.  7288 at 770 steps in \#\#TIME\#\#
// 7.  9232 at 870 steps in \#\#TIME\#\#

// Bound 1000:

// Bound 1174:


Solution 1
<kat>
 <s> #STUCK ~> #bimc-result #false in 40 steps </s>
 <imp>
  <k> x ~> #freezer_+_1 ( 1 ) ~> #freezer_=_;0 ( x ) ~> while ( 2 <= n ) { if ( n <= ( ( n / 2 ) * 2 ) ) { n = n / 2 ; } else { n = 3 * n + 1 ; } x = x + 1 ; } </k>
  <mem> x |-> 3 n |-> 1762 </mem>
 </imp>
 <analysis> .Analysis </analysis>
 <states> .States </states>
</kat>


// Bound 9232:
