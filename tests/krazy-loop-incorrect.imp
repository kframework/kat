// IMP Exmaples
// ============

// In this file several tests are provided for KAT. K commit `e14da0a` should be
// used to kompile the definition and run the examples. Compile the definition with
// `./tangle komplie` in the root directory. Run the tests with `./tangle test` in
// the root directory. Run the benchmarks with `./tangle bench` in the root
// directory.

// Looping
// -------

// ### `krazy-loop.imp`

// Here we have a krazy loop which computes:

// $$
// \sum_{i = 1}^{11}
//     \frac{i}{3} * \sum_{i = 0}^{11}
//                       \texttt{ if } even(i)
//                       \texttt{ then } \frac{(3 * j) - (j + i)}{i}
//                       \texttt{ else } \frac{j}{(5 * i) + 1}
//                       \texttt{ fi }
// $$

// This version of the krazy-loop has an off-by-one error which causes a division
// by zero.


int i , j , k , l , m , s ;

i = 11 ;
j = 11 ;
k = 0 ;
l = 0 ;
m = 0 ;
s = 0 ;

while (0 <= i) {
  k = 0 ;
  j = 11 ;
  while (0 <= j) {
    l = (3 * j) - (j + i) ;
    m = (5 * i) + 1 ;
    if (i <= ((i / 2) * 2)) {
      k = k + (l / i) ;
    } else {
      k = k + (j / m) ;
    }
    j = j - 1 ;
  }
  s = s + ((i * k) / 3) ;
  i = i - 1 ;
}

